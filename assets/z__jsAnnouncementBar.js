"use strict";Shopify.theme.jsAnnouncementBar={init:function(e){var t=this;Shopify.theme.jsAnnouncementBar=$.extend(this,Shopify.theme.getSectionData(e));e=this.homepage_only?".index":"";this.$el=$("#announcement-bar",e);e=Cookies.get("announcement-bar");if($(".announcement-bar__shadow").height(this.$el.height()),!1===this.show_close_icon)Cookies.remove("announcement-bar"),$("body").addClass("announcement-bar--visible"),"vertical"==Shopify.theme_settings.header_layout&&this.addVerticalHeaderTopMargin();else{if("dismiss"===e)return $("body").addClass("announcement-bar--hidden"),this.disableSticky(),"vertical"==Shopify.theme_settings.header_layout&&this.removeVerticalHeaderTopMargin(),!1;$("body").addClass("announcement-bar--visible"),"vertical"==Shopify.theme_settings.header_layout&&this.addVerticalHeaderTopMargin()}!0===this.enable_sticky?this.enableSticky():this.disableSticky(),!0===this.show_close_icon&&($("body").addClass("has-announcement-bar-toggle"),this.$el.on("click",".js-close-announcement",function(){t.hide(),"vertical"==Shopify.theme_settings.header_layout&&t.removeVerticalHeaderTopMargin()}))},addVerticalHeaderTopMargin:function(){isScreenSizeLarge()&&($(".header--vertical").css("marginTop",-this.$el.height()),$(".announcement-bar__shadow").height(this.$el.height()))},removeVerticalHeaderTopMargin:function(){$(".header--vertical").removeAttr("style")},enableSticky:function(){this.$el.parent().sticky({wrapperClassName:"announcement-sticky-wrapper",zIndex:40}),this.resetHeader(this.$el.height())},disableSticky:function(){this.$el.parent().unstick(),this.resetHeader(0)},hide:function(){$("body").removeClass("announcement-bar--visible"),this.disableSticky(),Cookies.set("announcement-bar","dismiss",{expires:30})},resetHeader:function(e){!0===Shopify.theme.jsHeader.enable_sticky&&isScreenSizeLarge()?"vertical"!=Shopify.theme_settings.header_layout&&(Shopify.theme.jsHeader.disableSticky(),Shopify.theme.jsHeader.enableSticky(e)):!0!==Shopify.theme.jsHeader.enable_sticky||isScreenSizeLarge()||(Shopify.theme.mobileMenu.disableSticky(),Shopify.theme.mobileMenu.enableSticky(e))},getAnnouncementHeight:function(){return $(".announcement-container").outerHeight()||0},unload:function(e){$("#announcement-bar").off(),$("#announcement-bar").unstick()}};